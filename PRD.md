# PRD (Product Requirements Document)

## 1. 목적 (Objective)

**해결하고자 하는 문제:**
- 대중교통이나 차량 이용으로 인한 운동 부족과 환경 문제가 동시에 발생
- 걷기 습관을 형성하고 싶지만 단순한 도보 경로만 제공되어 동기 부족
- 개인의 건강 증진과 ESG 활동 참여를 연결하는 서비스의 부재

**앱을 만드는 이유:**
- 건강한 라이프스타일과 환경 보호를 동시에 추구할 수 있는 실용적 솔루션 제공
- 일상적인 이동을 의미있는 건강 활동으로 전환
- 개인의 작은 실천이 환경에 미치는 긍정적 영향을 시각화

**완성 시 기대되는 결과:**
- 사용자의 일상 걷기 활동량 증가 (주 3회 이상 앱 사용)
- 도보 이동을 통한 개인 건강 지표 개선 및 탄소 발자국 감소 인식 제고
- 지속 가능한 이동 수단으로서 걷기 문화 확산

---

## 2. 범위 (Scope)

**포함되는 기능:**
- 현재 위치 기반 트래킹 코스 추천 시스템
- 위치 검색을 통한 원하는 지역의 걷기 코스 탐색
- GPS 기반 실시간 네비게이션 및 진행률 추적
- 경로 이탈 감지 및 재탐색 기능
- 이동 완료 후 기록 저장 (거리, 시간, 걸음 수)
- 위치 기반 서비스 및 지도 연동

**포함되지 않는 기능 (Out of Scope):**
- 사용자 계정 관리 및 회원가입/로그인
- 소셜 기능 (친구 추가, 랭킹, 공유 등)
- 게이미피케이션 요소 (포인트, 배지, 레벨 등)
- 클라우드 동기화 (로컬 저장만)
- 심박수, 칼로리 등 고급 건강 지표
- 날씨 정보 연동
- 음성 안내 기능

---

## 3. 사용자 정의 (User Personas)

**주요 타깃 사용자:**

**페르소나 1: 건강 관심 직장인 (20-40대)**
- 니즈: 출퇴근이나 점심시간을 활용한 걷기 운동
- Pain Points: 시간 부족, 단조로운 경로, 운동 효과 측정 어려움
- 사용 시나리오: 지하철역에서 회사까지, 점심 식사 장소까지의 도보 이동

**페르소나 2: 환경 의식 높은 밀레니얼/Z세대 (20-30대)**
- 니즈: 일상에서 실천 가능한 친환경 활동
- Pain Points: ESG 실천 방법의 모호함, 개인 행동의 환경 기여도 체감 부족
- 사용 시나리오: 가까운 거리 이동 시 대중교통 대신 걷기 선택

**페르소나 3: 운동 입문자 (전 연령대)**
- 니즈: 부담 없는 운동 시작, 점진적인 활동량 증가
- Pain Points: 운동 시작의 어려움, 목표 설정 및 성취감 부족
- 사용 시나리오: 일상적인 외출을 운동 기회로 활용

---

## 4. 사용자 여정 / 시나리오 (User Flow / Use Cases)

**대표적인 사용자 시나리오:**

**시나리오 1: 현재 위치 기반 트래킹 코스 추천**
1. 사용자가 앱을 실행하면 현재 위치가 자동으로 감지됨
2. 현재 위치 근처의 추천 트래킹 코스들이 표시됨
3. 원하는 코스를 선택하여 걷기 시작
4. 네비게이션을 따라 이동하며 진행률 확인
5. 코스 완주 후 기록 저장

**시나리오 2: 특정 지역 트래킹 코스 검색**
1. 사용자가 원하는 지역을 검색 (예: "한강공원", "북한산")
2. 해당 지역의 트래킹 코스들이 표시됨
3. 거리와 난이도를 고려하여 적절한 코스 선택
4. 경로 이탈 시 재탐색으로 올바른 방향 안내
5. 완료 후 절약한 교통비와 걸음 수 확인

**시나리오 3: 주말 산책 코스 탐색**
1. 현재 위치에서 관심 있는 지역의 트래킹 코스 탐색
2. 다양한 코스 옵션 중 개인 취향에 맞는 코스 선택
3. 새로운 동네 탐방을 겸한 걷기 운동
4. 활동 기록을 통한 성취감 획득

---

## 5. 요구사항 (Requirements)

### 기능 요구사항 (Functional Requirements)

**위치 및 권한:**
- [ ] 앱 실행 시 위치 권한 요청 및 현재 위치 자동 감지
- [ ] 위치 권한 거부 시 적절한 안내 및 수동 입력 옵션 제공

**트래킹 코스 검색 및 추천:**
- [ ] 현재 위치 자동 감지 및 기본값 설정
- [ ] 위치 검색 기능 (지역명, 랜드마크 등)
- [ ] 현재 위치 근처 트래킹 코스 자동 추천
- [ ] 검색된 지역의 트래킹 코스 목록 표시
- [ ] 각 코스별 거리(km), 예상 시간(분), 난이도, 걸음 수(보) 표시

**네비게이션:**
- [ ] 선택된 경로를 지도에 Polyline으로 시각화
- [ ] GPS 기반 실시간 위치 추적 및 현재 위치 마커 표시
- [ ] 이동 진행률(%) 실시간 계산 및 표시
- [ ] 남은 거리 및 예상 시간 업데이트
- [ ] 경로 이탈 감지 (40m 이상) 및 재탐색 제안 팝업

**기록 및 완료:**
- [ ] 목적지 도착 시 자동 완료 화면 전환
- [ ] 실제 이동 거리, 소요 시간, 걸음 수 요약 표시
- [ ] 로컬 저장을 통한 이동 기록 저장 기능

### 비기능 요구사항 (Non-Functional Requirements)

**성능:**
- GPS 위치 업데이트 주기: 2-5초
- 지도 렌더링 응답 시간: 3초 이내
- 경로 계산 API 응답 시간: 5초 이내
- 앱 실행 시간: 3초 이내

**사용성:**
- 직관적인 UI/UX (최소 3번의 탭으로 네비게이션 시작)
- 야외 시인성을 고려한 지도 및 UI 디자인
- 한손 조작이 가능한 버튼 크기 및 배치

**안정성:**
- GPS 신호 손실 시 마지막 위치 기반 서비스 유지
- 네트워크 연결 불안정 시 오프라인 모드 지원
- 배터리 사용량 최적화

**호환성:**
- iOS 14.0 이상, Android API 24 이상 지원
- 다양한 화면 크기 대응 (4.7인치 ~ 6.7인치)

---

## 6. 성공 기준 (Success Criteria)

- **기능 충족도**: 정의된 기능 요구사항이 모두 구현 및 정상 동작해야 함
- **사용성**: 사용자 여정/시나리오가 의도대로 완전히 수행 가능해야 함
- **정확성**: GPS 위치 추적 정확도 10m 이내, 경로 이탈 감지 정확도 95% 이상
- **안정성**: 실행 시 치명적 오류나 크래시가 없어야 함
- **성능**: 정의된 응답 시간 기준을 모두 충족해야 함
- **품질 준수**: 기본적인 코드 품질, 보안 규칙, 의존성 충돌 검사를 통과해야 함
- **테스트 완성도**: 사전에 정의된 테스트 케이스가 100% 통과해야 함

---

## 7. 기술 고려사항 (Technical Considerations)

**기술 스택:**
- Frontend: React Native 또는 Flutter (크로스 플랫폼 개발)
- 지도 서비스: Google Maps API 또는 Kakao Map API
- 위치 서비스: GPS, Network-based Location
- 로컬 저장: SQLite 또는 SharedPreferences/UserDefaults

**아키텍처:**
- MVC 또는 MVVM 패턴 적용
- 컴포넌트 기반 UI 설계
- 상태 관리 라이브러리 활용 (Redux, MobX 등)

**주요 API 및 라이브러리:**
- 지도 API: 경로 계산, 지오코딩, 역지오코딩
- 위치 권한 관리 라이브러리
- 보행자용 길찾기 API
- 걸음 수 계산 알고리즘 (거리 기반)

**데이터 모델:**
- TrackingCourse: id, name, location, distance, duration, difficulty, steps, description
- Route: id, course_id, polyline, waypoints
- Record: id, date, course_id, actual_distance, actual_duration, steps
- Location: latitude, longitude, timestamp

---

## 8. 리스크 및 가정 (Risks & Assumptions)

**주요 리스크:**
- GPS 정확도 문제로 인한 경로 추적 오류
- 지도 API 사용료 및 일일 호출 제한
- 배터리 소모량 증가로 인한 사용자 이탈
- iOS/Android 플랫폼별 위치 권한 정책 변화
- 실내/지하 환경에서의 GPS 신호 불안정

**현재 가정:**
- 사용자가 스마트폰을 소지하고 이동한다고 가정
- 인터넷 연결이 경로 검색 시에는 가능하다고 가정
- 사용자가 보행자 전용 경로를 이용한다고 가정
- 지도 API 서비스가 안정적으로 제공된다고 가정
- 초기 버전에서는 한국 내 서비스만 제공한다고 가정

**완화 방안:**
- GPS 보정을 위한 다중 위치 서비스 활용
- API 사용량 모니터링 및 캐싱 전략 수립
- 배터리 최적화 및 절전 모드 제공
- 플랫폼별 권한 정책 지속적 모니터링
- 실내 진입 시 마지막 위치 기반 서비스 제공